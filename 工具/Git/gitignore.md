`.gitignore` 文件用来告诉 Git **忽略哪些文件或文件夹**，使其不被提交到版本控制中。

以下是 `.gitignore` 中最常用语法的分类详解，从基础到进阶。

---

### 1. 基础语法 (Basic Syntax)

- **注释**：使用 `#` 开头。
    
- **空行**：会被 Git 忽略，通常用于增加可读性。
    
- **文件名**：直接输入文件名即可忽略该文件。
    

代码段

```
# 这是一个注释
secret.txt      # 忽略所有名为 secret.txt 的文件 (无论在哪个目录下)
```

---

### 2. 通配符 (Wildcards)

这是最常用的功能，用于匹配特定模式的文件。

|**符号**|**含义**|**示例**|**说明**|
|---|---|---|---|
|`*`|匹配零个或多个字符|`*.log`|忽略所有后缀为 .log 的文件|
|`?`|匹配单个字符|`test?.js`|匹配 test1.js, testa.js，但不匹配 test10.js|
|`[]`|匹配括号内的任一字符|`[abc].txt`|匹配 a.txt, b.txt, c.txt|
|`[ - ]`|匹配字符范围|`[0-9].txt`|匹配 0.txt 到 9.txt|

---

### 3. 目录与路径 (Directories & Paths)

斜杠 `/` 的位置决定了匹配的范围（是匹配特定目录，还是递归匹配）。

#### **忽略整个文件夹**

在名称后面加上 `/`。

代码段

```
build/        # 忽略 build 文件夹及其下的所有内容 (无论 build 在哪)
```

#### **仅在根目录忽略**

在名称前面加上 `/`。这表示从 `.gitignore` 文件所在的同级目录开始匹配，**不递归**。

代码段

```
/TODO.md      # 仅忽略根目录下的 TODO.md，不忽略 sub/TODO.md
/build/       # 仅忽略根目录下的 build 文件夹
```

---

### 4. 高级递归匹配 (`**`)

双星号 `**` 用于匹配多级目录（任意深度的路径）。

- **`**/foo`**: 匹配任意位置的 `foo` 文件或文件夹。
    
- **`foo/**`**: 匹配 `foo` 目录下所有的内容。
    
- **`a/**/b`**: 匹配 `a/b`, `a/x/b`, `a/x/y/b` 等。
    

代码段

```
logs/**/debug.log   # 忽略 logs 目录下任意层级中的 debug.log
```

---

### 5. 取反/例外 (`!`)

如果你想忽略大多数文件，但**保留**特定文件，可以使用 `!`。

> **注意：** `!` 的优先级非常重要。如果父文件夹已经被忽略了，你无法使用 `!` 强制包含其中的子文件（Git 出于性能考虑，一旦忽略目录，就不会扫描里面的内容）。

**错误写法 (无效)：**

代码段

```
logs/
!logs/important.log  # 无效！因为 logs/ 已经被完全忽略了
```

**正确写法：**

代码段

```
logs/* # 忽略 logs 下的所有文件
!logs/important.log  # 但保留 important.log
```

---

### 6. 常用场景示例 (Examples)

#### **常见的前端/后端配置**

代码段

```
# --- 依赖包 ---
node_modules/
vendor/

# --- 环境变量 (绝对不能提交) ---
.env
.env.local

# --- 编译输出 ---
dist/
build/
*.class

# --- 系统文件 ---
.DS_Store
Thumbs.db

# --- IDE 配置 ---
.idea/
.vscode/
```

---

### 💡 核心避坑指南 (Critical Tip)

很多用户遇到的最大问题是：**“为什么我在 `.gitignore` 里添加了文件，Git 还是在追踪它？”**

**原因**：`.gitignore` **只对“未被追踪”（Untracked）的文件有效**。如果一个文件已经被 Commit 过了（即已经被 Git 追踪），你直接修改 `.gitignore` 是无效的。

**解决方法**：你需要先从 Git 的缓存区（暂存区）中移除它，但保留本地文件。

Bash

```
# 1. 从 Git 缓存中删除文件 (保留本地物理文件)
git rm --cached <文件名>

# 或者删除文件夹
git rm -r --cached <文件夹名>

# 2. 重新提交 .gitignore
git add .gitignore
git commit -m "update gitignore"
```

---

### 下一步建议

如果您正在为一个新项目配置环境，我可以为您直接生成针对特定语言（如 **Python, Node.js, Java, Go**）的标准 `.gitignore` 模板。

**您希望我为您生成哪个语言的模板？**